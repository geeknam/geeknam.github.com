<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: git | geeknam's blog]]></title>
  <link href="http://geeknam.github.com/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://geeknam.github.com/"/>
  <updated>2012-02-13T13:46:48+11:00</updated>
  <id>http://geeknam.github.com/</id>
  <author>
    <name><![CDATA[Ngo Minh Nam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Using PHP to parse git history]]></title>
    <link href="http://geeknam.github.com/blog/2011/05/08/using-php-to-parse-git-history/"/>
    <updated>2011-05-08T13:19:00+10:00</updated>
    <id>http://geeknam.github.com/blog/2011/05/08/using-php-to-parse-git-history</id>
    <content type="html"><![CDATA[<p>Here is how you can store git command output in a good manner after which you will be able to easily retrieve necessary information. This snippet belongs to the project I'm currently working on.</p>

<p>``` php
&lt;?php
// Author: Ngo Minh Nam</p>

<p>$dir = "/path/to/your/repo/";
$output = array();
chdir($dir);
exec("git log",$output);
$history = array();
foreach($output as $line){</p>

<pre><code>if(strpos($line, 'commit')===0){
    if(!empty($commit)){
        array_push($history, $commit);  
        unset($commit);
    }
    $commit['hash']   = substr($line, strlen('commit'));
}
else if(strpos($line, 'Author')===0){
    $commit['author'] = substr($line, strlen('Author:'));
}
else if(strpos($line, 'Date')===0){
    $commit['date']   = substr($line, strlen('Date:'));
}
else{       
    $commit['message']  .= $line;
}
</code></pre>

<p>}</p>

<p>print_r($history);</p>

<p>?>
```</p>
]]></content>
  </entry>
  
</feed>
